__NUXT_JSONP__("/posts/aws-tools-suck", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I){return {data:[{post:{slug:"aws-tools-suck",title:"AWS Tools Suck",summary:"If you have ever worked with AWS as a developer then you will know what I mean, AWS tools suck. They suck so bad there is an entire industry focused on solving for this pile of suck.",colId:"60d0f077b69e2df6b324616c",id:"61a67f5af4e8e5298d0efcc3",createdAt:"2021-11-30T19:45:30.000Z",updatedAt:"2022-02-23T16:16:24.000Z",publishedOn:"Wed Feb 23 2022 16:18:06 GMT+0000 (Coordinated Universal Time)",author:"kam-lasater",category:"AWS",hidden:false,featured:true,public:"Wed Dec 01 2021 00:00:00 GMT+0000 (Coordinated Universal Time)",image:"https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F61a68182a7f0432e99a2781e_tools.jpg",thumbnail:"https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F61a68047deca8f1bd220fae5_reid-naaykens-M9A3YswhVAw-unsplash.jpg",toc:[{id:t,depth:n,text:t},{id:u,depth:n,text:v},{id:w,depth:n,text:x},{id:y,depth:n,text:z},{id:A,depth:n,text:B},{id:C,depth:2,text:D}],body:{type:"root",children:[{type:b,tag:e,props:{},children:[{type:a,value:"If you have ever worked with AWS as a developer then you will know what I mean, AWS tools suck. They suck so bad there is an entire industry focused on solving for this pile of suck. For just Infrastructure as Code, for example, there are Terraform, Pulumi and Serverless. AWS is famous for \"listening to customers\". So what gives? Why do their tools still feel clunky, complex and riddled with infuriating edge cases?"}]},{type:a,value:c},{type:b,tag:o,props:{id:t},children:[{type:b,tag:d,props:{href:"#tldr",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You, the developer, are not the customer."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The longer answer is a combination of several factors. Here are my three reasons for why things are the way they are."}]},{type:a,value:c},{type:b,tag:o,props:{id:u},children:[{type:b,tag:d,props:{href:"#reason-1-aws-never-was-a-developer-tools-company",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:v}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"AWS never won based on having the best experience or tooling. They offered one powerful value proposition, you could shorten your project lead time by using their services. You no longer need to do capacity planning for the number of disks (s3), servers (ec2) or network capacity (egregious egress). Oh, and they were fanatical about availability."}]},{type:a,value:c},{type:b,tag:o,props:{id:w},children:[{type:b,tag:d,props:{href:"#reason-2-aws-doesnt-sell-based-on-dev-ex",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:x}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"AWS is growing at least as faster than the cloud market as a whole [1], yet they have below average developer experience. The only way that this can happen is if their customers are purchasing for reasons other than quality of developer tools. If the decision maker cared about developer experience why do they keep choosing AWS? The only reasonable answer is the person picking doesn't prioritize Dev Experience over some other attributes of the vendor (that is for another post)."}]},{type:a,value:c},{type:b,tag:o,props:{id:y},children:[{type:b,tag:d,props:{href:"#reason-3-if-aws-wanted-it-they-would-have-it",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:z}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Given the near 1 billion dollar a week capital expense annual run rate AWS was at in Q4 of 2020 [2], if it was of strategic importance for them to solve for better tooling they would. This is not a case of \"not enough resources'', this is a case of the project not getting the internal priority to invest in improvement."}]},{type:a,value:c},{type:b,tag:o,props:{id:A},children:[{type:b,tag:d,props:{href:"#conclusion",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:B}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"AWS continues to grow despite having bad tooling and developer experience. If it impacted their sales they would make it a priority. If they made it a priority to have great tooling, they would have it. The only conclusion is: bad tooling isn't affecting their sales. Therefore, sales decisions aren't being made at the level or for the reasons that developer tooling changes the outcome."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Which means AWS tools will continue to suck for the foreseeable future."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"[1] "},{type:b,tag:d,props:{href:E,rel:[p,q,r],target:s},children:[{type:a,value:E}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"[2] "},{type:b,tag:d,props:{href:F,rel:[p,q,r],target:s},children:[{type:a,value:F}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"\" Considerations for Serverless Active-Active: Routing,considerations-for-serverless-active-active-routing,60d0f077b69e2df6b324616c,623b3aed20c9065ace10b837,Wed Mar 23 2022 15:21:17 GMT+0000 (Coordinated Universal Time),Tue Apr 19 2022 16:03:40 GMT+0000 (Coordinated Universal Time),Wed Jun 08 2022 20:06:23 GMT+0000 (Coordinated Universal Time),mike-korostelev,AWS,false,false,Thu Mar 24 2022 00:00:00 GMT+0000 (Coordinated Universal Time),"},{type:b,tag:d,props:{href:G,rel:[p,q,r],target:s},children:[{type:a,value:G}]},{type:a,value:" active-active in multiple regions can be expensive and complex. Serverless-native applications can make it simpler to serve users globally and enable more effective recoveries with less effort.,\""}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:H,props:{},children:[{type:a,value:"(Part 1 of a series)"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Building active-active in multiple regions can be expensive and complex. Serverless-native applications can make it simpler to serve users globally and enable more effective recoveries with less effort."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Starting from the end user making an http request and assuming there are two identical instances of an application running in two AWS regions - this and next several posts will discuss considerations, tools and solutions for building serverless active-active architectures."}]},{type:a,value:c},{type:b,tag:"h2",props:{id:C},children:[{type:b,tag:d,props:{href:"#routing",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:b,tag:k,props:{},children:[{type:a,value:D}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The first touchpoint for a request is DNS routing. This where the cloud DNS ("},{type:b,tag:d,props:{href:"https:\u002F\u002Faws.amazon.com\u002Froute53\u002F",rel:[p,q,r],target:s},children:[{type:a,value:"AWS Route53"}]},{type:a,value:") connects the request to your application's endpoints - in whatever region they are in the world."}]},{type:a,value:c},{type:b,tag:l,props:{id:"which-regional-instance-of-the-application-to-send-the-request-to"},children:[{type:b,tag:d,props:{href:"#which-regional-instance-of-the-application-to-send-the-request-to",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"Which regional instance of the application to send the request to?"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"AWS Route53 lets you select a routing policy for DNS records. A regional policy will route users the closest geographic region ($0.70 per million queries). A latency policy will route to the the lowest query latency record ($0.60 per million queries). For high traffic web services, the TTL value should be considered as most web clients cache dns for the specified TTL."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"If the record is configured as an alias to an AWS service (like cloudfront and api gateway) - the dns queries are free."}]},{type:a,value:c},{type:b,tag:l,props:{id:"how-to-know-that-the-instance-in-the-region-is-actually-healthy--before-routing-the-request"},children:[{type:b,tag:d,props:{href:"#how-to-know-that-the-instance-in-the-region-is-actually-healthy--before-routing-the-request",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"How to know that the instance in the region is actually healthy ✅ before routing the request?"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"If a region is down (and it's not even your fault), Route53 does not know not to send requests there. To make Route53 know the state of an endpoint, health checks can be configured. Depending on the config, a health check is somewhere between $0.50 - $2.00 per month. Two ways to configure a health check are:"}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:I,props:{},children:[{type:a,value:"Monitor an endpoint by continuously polling it from multiple regions - this will result in multiple requests per second to some endpoint where your application responds with some kind of 200. Since all these requests must be handled by something and can get expensive downstream from the traffic generated by the health check itself."}]},{type:a,value:c},{type:b,tag:I,props:{},children:[{type:a,value:"Monitor cloudwatch alarms - this lets you be more creative about what ‘healthy’ means and can go both ways on cost\u002Fcomplexity. This option is likely going to have more lag than monitoring an endpoint directly."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Here the TTL is a more important consideration - since clients will cache dns - faster health-check polling intervals will not give you instantaneous routing switchover. So if users are actively using a service at the moment the switch over happens, you should have the expectation that they may still be hitting the failing endpoint until their dns cache expires."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:k,props:{},children:[{type:b,tag:H,props:{},children:[{type:a,value:"The next few posts will discuss these and other considerations, approaches and dirty hacks for building a low overhead active-active strategy with serverless on AWS:"}]}]}]},{type:a,value:c},{type:b,tag:l,props:{id:"compute"},children:[{type:b,tag:d,props:{href:"#compute",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:b,tag:k,props:{},children:[{type:a,value:"Compute"}]}]},{type:a,value:c},{type:b,tag:m,props:{id:"how-to-process-the-requests-in-both-regions-without-having-to-pay-for-two-computes"},children:[{type:b,tag:d,props:{href:"#how-to-process-the-requests-in-both-regions-without-having-to-pay-for-two-computes",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"How to process the requests in both regions without having to pay for two computes?"}]},{type:a,value:c},{type:b,tag:m,props:{id:"how-to-scale-capacity-if-suddenly-a-single-regional-application-instance-must-pick-up-the-slack-for-a-whole-other-regions-worth-of-traffic"},children:[{type:b,tag:d,props:{href:"#how-to-scale-capacity-if-suddenly-a-single-regional-application-instance-must-pick-up-the-slack-for-a-whole-other-regions-worth-of-traffic",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"How to scale capacity if suddenly a single regional application instance must pick up the slack for a whole other region’s worth of traffic?"}]},{type:a,value:c},{type:b,tag:l,props:{id:"data"},children:[{type:b,tag:d,props:{href:"#data",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:b,tag:k,props:{},children:[{type:a,value:"Data"}]}]},{type:a,value:c},{type:b,tag:m,props:{id:"how-to-make-sure-the-data-created-by-either-regional-application-instance-is-available-to-the-other"},children:[{type:b,tag:d,props:{href:"#how-to-make-sure-the-data-created-by-either-regional-application-instance-is-available-to-the-other",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"How to make sure the data created by either regional application instance is available to the other?"}]},{type:a,value:c},{type:b,tag:l,props:{id:"ops"},children:[{type:b,tag:d,props:{href:"#ops",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:b,tag:k,props:{},children:[{type:a,value:"Ops"}]}]},{type:a,value:c},{type:b,tag:m,props:{id:"human-decisions-are-political-decisions-politics-takes-time-in-a-disaster-time-is-scarce---how-to-remove-humans-from-the-process"},children:[{type:b,tag:d,props:{href:"#human-decisions-are-political-decisions-politics-takes-time-in-a-disaster-time-is-scarce---how-to-remove-humans-from-the-process",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"Human decisions are political decisions, politics takes time, in a disaster time is scarce - how to remove humans from the process?"}]},{type:a,value:c},{type:b,tag:m,props:{id:"how-to-manage-infrastructure-across-multiple-regions-without-multiplying-operational-overhead"},children:[{type:b,tag:d,props:{href:"#how-to-manage-infrastructure-across-multiple-regions-without-multiplying-operational-overhead",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"How to manage infrastructure across multiple regions without multiplying operational overhead?"}]},{type:a,value:c},{type:b,tag:l,props:{id:"latency"},children:[{type:b,tag:d,props:{href:"#latency",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:b,tag:k,props:{},children:[{type:a,value:"Latency"}]}]},{type:a,value:c},{type:b,tag:m,props:{id:"how-to-deal-with-eventual-consistency-and-the-fact-that-data-replication-is-not-instantaneous"},children:[{type:b,tag:d,props:{href:"#how-to-deal-with-eventual-consistency-and-the-fact-that-data-replication-is-not-instantaneous",ariaHidden:f,tabIndex:g},children:[{type:b,tag:h,props:{className:[i,j]},children:[]}]},{type:a,value:"How to deal with eventual consistency and the fact that data replication is not instantaneous?"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"‍"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"\" Dad's Advice for How to Live,dads-advice-for-how-to-live,60d0f077b69e2df6b324616c,620d51d392f146f0cba97c8a,Wed Feb 16 2022 19:34:43 GMT+0000 (Coordinated Universal Time),Wed Mar 02 2022 17:54:17 GMT+0000 (Coordinated Universal Time),Wed Mar 02 2022 17:55:32 GMT+0000 (Coordinated Universal Time),kam-lasater,Company,false,false,Mon Feb 21 2022 00:00:00 GMT+0000 (Coordinated Universal Time),"},{type:b,tag:d,props:{href:"https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F621667437c7f8c36dd910873_dads-advice-20220223-v2.png,https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F621667437c7f8c36dd910873_dads-advice-20220223-v2.png,%22I",rel:[p,q,r],target:s},children:[{type:a,value:"https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F621667437c7f8c36dd910873_dads-advice-20220223-v2.png,https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F621667437c7f8c36dd910873_dads-advice-20220223-v2.png,\"I"}]},{type:a,value:" was 16 and about to head off as the youngest member of a month-long wilderness sailing trip. The night before my departure my dad came into my room to check on my packing and inspect my gear. He got serious and gave me the following advice for how to stay alive, keep safe and make the most of my time."}]}]},dir:"\u002Fposts",path:"\u002Fposts\u002Faws-tools-suck",extension:".md"}}],fetch:{},mutations:void 0}}("text","element","\n","a","p","true",-1,"span","icon","icon-link","strong","h4","h5",3,"h3","nofollow","noopener","noreferrer","_blank","tldr","reason-1-aws-never-was-a-developer-tools-company","Reason 1: AWS never was a developer tools company","reason-2-aws-doesnt-sell-based-on-dev-ex","Reason 2: AWS doesn't sell based on Dev Ex","reason-3-if-aws-wanted-it-they-would-have-it","Reason 3: If AWS wanted it they would have it","conclusion","Conclusion","routing","Routing","https:\u002F\u002Ftechcrunch.com\u002F2021\u002F08\u002F02\u002Fcloud-infrastructure-market-kept-growing-in-q2-reaching-42b\u002F","https:\u002F\u002Fwww.platformonomics.com\u002F2021\u002F03\u002Ffollow-the-capex-oracle-fy21-q3-update\u002F","https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F623b489a8dc82ac713edaba0_Screen%20Shot%202022-03-23%20at%2012.19.24%20PM.png,https:\u002F\u002Fuploads-ssl.webflow.com\u002F60d0f077b69e2d8f2d246168\u002F623b489a8dc82ac713edaba0_Screen%20Shot%202022-03-23%20at%2012.19.24%20PM.png,Building","em","li")));