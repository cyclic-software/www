__NUXT_JSONP__("/posts/common-mistakes-for-first-time-deploy", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G){return {data:[{post:{slug:"common-mistakes-for-first-time-deploy",title:"Common Mistakes to Avoid in Your First Deploy on Cyclic",summary:"Deploying on Cyclic is incredibly easy and fast, but three things tend to trip up first time users. We walk through three speed bumps and how to avoid them so you can deploy like the pro you truly are.",colId:"60d0f077b69e2df6b324616c",id:"61a67f5af4e8e5298d0efcc4",createdAt:s,updatedAt:s,publishedOn:"Thu Dec 29 2022 19:45:30 GMT+0000 (Coordinated Universal Time)",author:{slug:t,name:"Rachel Schipull",twitter:"@SchipThatCode",dir:"\u002Fauthors",path:"\u002Fauthors\u002Frachel-schipull",extension:".json",createdAt:u,updatedAt:u,id:t},category:"Engineering",hidden:v,featured:v,public:"Fri Dec 30 2022 10:33:20 GMT+0000 (Coordinated Universal Time)",image:w,thumbnail:w,toc:[{id:x,depth:h,text:y},{id:z,depth:h,text:A},{id:B,depth:h,text:C},{id:D,depth:h,text:E}],body:{type:"root",children:[{type:b,tag:i,props:{id:x},children:[{type:b,tag:e,props:{href:"#heres-the-scenario",ariaHidden:j,tabIndex:k},children:[{type:b,tag:l,props:{className:[m,n]},children:[]}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"You‚Äôve heard amazing things about Cyclic. It‚Äôs so easy, fast, and simple to get your app hosted. You are ready to take the plunge."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"You gather your Github and your Node.js full stack app and head over to "},{type:b,tag:e,props:{href:"https:\u002F\u002Fwww.cyclic.sh\u002F",rel:[o,p,q],target:r},children:[{type:a,value:"Cyclic.sh"}]},{type:a,value:". You sign in with Github and you are ready to hit deploy."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Yeah, go for it! We‚Äôre cheering you on. üéâ"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"However, depending on how your app is configured, there are a few speed bumps you might hit before your build is running smoothly. Keep reading to be prepared and get over those speedbumps for a smooth deploy!"}]},{type:a,value:c},{type:b,tag:i,props:{id:z},children:[{type:b,tag:e,props:{href:"#speed-bump-1-no-more-nodemon",ariaHidden:j,tabIndex:k},children:[{type:b,tag:l,props:{className:[m,n]},children:[]}]},{type:a,value:A}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"It's generally considered best practice to used the npm module "},{type:b,tag:e,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fnodemon",rel:[o,p,q],target:r},children:[{type:a,value:"nodemon"}]},{type:a,value:" during development because it watches for file changes as you are working. However nodemon isn't needed in production."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"If you are using nodemon to run your app locally, you‚Äôll need to update the start script that tells Cyclic how to run the application before you deploy your app."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Luckily for you, Cyclic will scan your repository before the build starts and provide you with a message to this effect. Look at that! Cyclic tells you exactly what to do."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:f,props:{alt:g,src:"\u002Fcontent\u002Fnodemonerror.bumps.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"You can update your Github repo at this point and restart the build.\nCongratulations! Your build is complete!"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:f,props:{alt:g,src:"\u002Fcontent\u002Fyourelive.bumps.png"},children:[]}]},{type:a,value:c},{type:b,tag:"blockquote",props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Tip: As of Node 18, running with the "},{type:b,tag:F,props:{},children:[{type:a,value:"--watch"}]},{type:a,value:" flag gets you the same file change detection as nodemon, but without the extra dependency, e.g. "},{type:b,tag:F,props:{},children:[{type:a,value:"node --watch index.js"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{id:B},children:[{type:b,tag:e,props:{href:"#speed-bump-2-environment-variables",ariaHidden:j,tabIndex:k},children:[{type:b,tag:l,props:{className:[m,n]},children:[]}]},{type:a,value:C}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Sometimes users get caught up in the excitement of completing a build and forget to add their environment variables to Cyclic. Cyclic can see the variables you've used in your project and will give you a little push to add them the moment your build is complete."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:f,props:{alt:g,src:"\u002Fcontent\u002Fvarswarning.bumps.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"If that message doesn't catch you, you‚Äôll be able to see under the ‚ÄúLogs‚Äù tab that your application isn‚Äôt communicating with your database or any other errors that missing vars would bring, such as something being \"undefined\" or \"not a string\". Time to add those vars in the ‚ÄúVariables‚Äù tab."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"There are already some variables in there, like your pre-populated Cyclic URL. All you have to do is add any additional variables in using the key\u002Fvalue pairing at the bottom."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:f,props:{alt:g,src:"\u002Fcontent\u002Fvarswithcircle.bumps.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Remember the key should match the key in your code, and if you want to copy\u002Fpaste from your .env file, be sure to try out the bulk editor tab."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:f,props:{alt:g,src:"\u002Fcontent\u002Fbulkeditor.bumps.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Once the variables are all set, check your logs again. Oh yeah, now we‚Äôre cooking with gas."}]},{type:a,value:c},{type:b,tag:i,props:{id:D},children:[{type:b,tag:e,props:{href:"#speed-bump-3-mongodb",ariaHidden:j,tabIndex:k},children:[{type:b,tag:l,props:{className:[m,n]},children:[]}]},{type:a,value:E}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Builds using MondgoDB are very popular and run great on Cyclic, but there‚Äôs one catch‚Ä¶ Because Cyclic is serverless, requests to MongdoDB need to be written in a certain order so they are heard correctly."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Our docs have an excellent example of how to structure your MongoClient and mongoose, if you are using it. Check it out here: "},{type:b,tag:e,props:{href:G,rel:[o,p,q],target:r},children:[{type:a,value:G}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"TLDR? You have to connect to MongoDB before your code starts to listen for requests, otherwise they may be missed entirely."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Once you‚Äôve updated your MongoClient code, you should be seeing all 200s in the logs."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:f,props:{alt:g,src:"\u002Fcontent\u002Fallgreenlogs.bumps.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Speed bumps traversed! That site is live. Quick, share it with all your friends!"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Are you finding other speedbumps? Let us know and we‚Äôll do our best to help you over them."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Check out our Discord community to ask questions and share your creations: "},{type:b,tag:e,props:{href:"https:\u002F\u002Fdiscord.gg\u002FRbX73p5P",rel:[o,p,q],target:r},children:[{type:a,value:"discord.cyclic.sh"}]}]}]},dir:"\u002Fposts",path:"\u002Fposts\u002Fcommon-mistakes-for-first-time-deploy",extension:".md"}}],fetch:{},mutations:void 0}}("text","element","\n","p","a","img","",3,"h3","true",-1,"span","icon","icon-link","nofollow","noopener","noreferrer","_blank","2022-12-29T19:45:30.000Z","rachel-schipull","2023-08-30T20:34:15.337Z",false,"\u002Fcontent\u002Fspeedbump.bumps.jpg","heres-the-scenario","Here‚Äôs the scenario:","speed-bump-1-no-more-nodemon","Speed bump #1: No more nodemon","speed-bump-2-environment-variables","Speed bump #2: Environment Variables","speed-bump-3-mongodb","Speed bump #3: MongoDB","code","https:\u002F\u002Fdocs.cyclic.sh\u002Fhow-to\u002Fusing-mongo-db")));